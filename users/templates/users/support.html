{% extends "users/base.html" %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    :root {
        --primary-green: #69d060;     
        --primary-orange: #ef8b17;    
        --bg-color: #f8f9fa;          
        --text-dark: #333;            
        --card-radius: 16px;          
        
        --pill-green-bg: #e8f5e9; --pill-green-text: #2e7d32;    
        --pill-blue-bg: #e3f2fd;  --pill-blue-text: #1565c0;  
        --bg: #7a7a7a;
      --card: rgba(248, 237, 230, 0.96);
      --accent: #f6a079;
      --btn-login: #d88474;
      --light-orange: #fff4e6;
      --orange: #f6a079;
      --text: #333;
      --muted: #625e5e;
      --light: #ffffff;
      --sidebar-desktop-width: 260px;
      --header-height: 70px;   
    }
    .container { 
        max-width: 1100px; 
        margin: 0 auto; 
        padding: 20px; 
    }
    
    .card {
        background: var(--card);
        border-radius: var(--card-radius);
        padding: 25px; 
        box-shadow: 0 4px 12px rgba(0,0,0,0.05); 
        margin-bottom: 25px;
        border: 1px solid #eee;
    }

    .support-hero {
        text-align: center;
        padding: 40px 20px;
        background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%);
        border: 1px solid #dcfce7;
    }

    .support-hero h1 {
        font-size: 36px;
        color: var(--text-dark);
        margin-bottom: 10px;
        font-weight: 800;
    }

    .support-hero p {
        color: #666;
        font-size: 16px;
        max-width: 600px;
        margin: 0 auto 25px;
    }

    .search-container {
        position: relative;
        max-width: 500px;
        margin: 0 auto;
    }

    .search-container input {
        width: 100%;
        padding: 15px 20px 15px 45px;
        border-radius: 50px;
        border: 2px solid #eee;
        font-size: 15px;
        transition: all 0.3s;
    }

    .search-container input:focus {
        outline: none;
        border-color: var(--primary-green);
        box-shadow: 0 0 10px rgba(105, 208, 96, 0.1);
    }

    .search-container i {
        position: absolute;
        left: 18px;
        top: 50%;
        transform: translateY(-50%);
        color: #aaa;
    }

    .content-grid { 
        display: block;
    } 
    .faq-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }

    .faq-item {
        border: 1px solid #eee;
        border-radius: 12px;
        overflow: hidden;
        transition: 0.2s;
    }

    .faq-question {
        padding: 18px 20px;
        background: #fff;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 700;
        color: #444;
        font-size: 15px;
        transition: ease 0.3s;
    }

    .faq-question:hover {
        background: #f9fafb;
    }

    .faq-answer {
        padding: 0 20px;
        max-height: 0;
        overflow: hidden;
        transition: all 0.3s ease-out;
        background: #fff;
        color: #667;
        line-height: 1.6;
        font-size: 14px;
    }
    
    .faq-item.active .faq-answer {
        padding: 0 20px 20px;
        max-height: 1000px; 
    }


    .faq-item.active .faq-question {
        color: var(--primary-green);
    }

    .faq-item.active i {
        transform: rotate(180deg);
        color: var(--primary-green);
    }
    .contact-row {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-top: 10px;
    }
    .contact-card {
        text-align: center;
        padding: 30px;
        border-radius: var(--card-radius);
        background: white;
        border: 1px solid #eee;
        transition: transform 0.3s;
    }
    a {
        text-decoration: none;
        color: #667;
    }

    .contact-card:hover {
        transform: translateY(-5px);
        border: 1px solid var(--primary-orange);
    }

    .contact-card i {
        font-size: 30px;
        color: var(--primary-orange);
        margin-bottom: 15px;
    }

    .contact-card h4 {
        margin-bottom: 8px;
        font-weight: 700;
    }

    .contact-card p {
        font-size: 13px;
        color: #777;
        text-align: center;
        transition: ease 0.3s;
    }
    .section-title {
        font-size: 22px;
        font-weight: 800;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        color: var(--primary-orange);
    }

    h1, h2, h3 { 
      font-family: 'Playfair Display', serif; 
      font-weight: 800; 
      line-height: 2.2;
      color: var(--btn-login); 
      margin-top: 0; 
    }
    h4 {
        color: #333;
        font-family: "Poppins", sans-serif;
    }
    h2 { 
      border-bottom: 2px solid var(--accent); 
      padding-bottom: 8px; 
      font-size: 25px; 
    }
    p { 
      color: #444; 
      font-size: 15px; 
      line-height: 1.6; 
      text-align: justify; 
    }
    
    .custom-select-wrapper { 
        position: relative; 
        width: 100%; 
    }
    .custom-select {
        background: white; 
        border: 1px solid #ddd; 
        padding: 12px;
        border-radius: 8px; 
        cursor: pointer; 
        display: flex;
        justify-content: space-between; 
        align-items: center; 
        font-size: 14px;
    }
    .custom-options {
        position: absolute; 
        top: 100%; 
        left: 0; 
        right: 0; 
        border: 1px solid #ddd; 
        border-top: none; 
        border-radius: 0 0 8px 8px;
        display: none; 
        z-index: 100; 
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .custom-options div { 
        padding: 12px; cursor: pointer; 
        font-size: 14px;
    }
    .custom-options div:hover { 
        background: #f0fdf4; color: var(--primary-green); 
    }
    .custom-select-wrapper.open .custom-options { 
        display: block; 
    }
    .custom-select-wrapper.open .custom-select { 
        border-radius: 8px 8px 0 0; border-color: var(--primary-green); 
    }
    .status-widget {
        display: flex; 
        align-items: center; 
        gap: 10px;
        background: #f1f5f9; 
        padding: 10px 20px; 
        font-size: 13px; 
        font-weight: 600; 
        width: fit-content; margin: 0 auto 20px;
    }
    .status-dot { 
        width: 10px; 
        height: 10px; 
        background: #22c55e; 
        border-radius: 50%; 
        box-shadow: 0 0 8px #22c55e; 
    }

    .guideline-box { 
        display: flex; 
        gap: 15px; 
        margin-bottom: 15px; 
    }
    .guideline-box i { 
        color: var(--primary-green); 
        margin-top: 4px; 
    }
    .source-str {
      border-radius: 20px 2px 2px 20px; 
    }
    .source-tag {
      border-radius: 3px;
    }
    .source-end {
      border-radius: 2px 20px 20px 2px;
    }
    .source-tag,  .source-str,  .source-end { 
      font-family: 'Poppins', sans-serif; 
      font-weight: 800; 
      line-height: 1.2;
      display: inline-block; 
      background: var(--orange); 
      color: var(--light);
      padding: 4px 10px;  
      font-size: 11px; 
      margin: 4px; 
    } 
    .recom-page { 
      margin-bottom: 30px; 
      padding-bottom: 20px; 
      border-bottom: 1px solid #ddd; 
    }  
    #profilePopup {
        position: fixed;
        top: 0; 
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 9999; 
        display: none;
        background: rgba(0,0,0,0.6);
        -webkit-backdrop-filter: blur(5px);
        backdrop-filter: blur(5px);
        overflow-y: auto; 
        padding: 20px 15px;
    }

    #profilePopup.active {
        display: flex; 
        justify-content: center;
        align-items: flex-start; 
    }
    .exit-btn {
        width: 36px;
        height: 36px;
        padding: 0;
        line-height: 1;
        justify-content: center;
        align-items: center;
        border-radius: 50%;
        background: #d88474;
        position: absolute; 
        display: flex;
        top: 20px; 
        right: 20px; 
        font-size: 24px; 
        color: white; 
        cursor: pointer;
        box-shadow: 0 10px 25px rgba(0,0,0,0.3); 
        animation: pulse-orange 2s infinite; 
    }
    @keyframes pulse-orange {
      0% { 
        box-shadow: 0 0 0 0 rgba(246, 160, 121, 0.7); 
      }
      70% { 
        box-shadow: 0 0 0 15px rgba(246, 160, 121, 0); 
      }
      100% { 
        box-shadow: 0 0 0 0 rgba(246, 160, 121, 0); 
      }
    }

    .card-rec {
        background: white;
        border-radius: 14px;
        padding: 30px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        width: 100%;
        max-width: 800px;
        margin: 40px 0; 
        position: relative;
        cursor: default;
    }
    .return-btn { 
      background: #555; 
      margin-top: 20px; 
    }
    .submit-btn {
      width: 100%; 
      padding: 14px; 
      border-radius: 8px; 
      border: none;
      background: #434141;
      color: white; 
      font-weight: bold; 
      cursor: pointer; 
      font-size: 16px;
      box-shadow: 0 4px 10px rgba(58, 57, 57, 0.2); 
      transition: 0.3s;
    }
    .submit-btn:hover {  
        background: #6f6d6d;
    }
    .form-button-wrapper { margin-top: 25px; }

    .header-section { 
      text-align: center; 
      margin-bottom: 40px; 
    }

    .floating-btn img {
      width: 30px;
      filter: invert(1);
    }

    @media (max-width: 768px) {
        .support-hero h1 {
        font-size: 22px;
        color: var(--text-dark);
        margin-bottom: 10px;
        font-weight: 800;
        }
        .faq-grid, .contact-row {
            grid-template-columns: 1fr;
        }
        .section-title {
            text-align: center;
            justify-content: center;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="card support-hero">
        <h1>How can we help you cook?</h1>
        <p>Welcome to <strong>CHEF-ROOTS</strong> support. Search our help center or browse our frequently asked questions below.</p>
        <div class="search-container">
            <i class="fas fa-search"></i>
            <input type="text" id="faqSearch" placeholder="Search for help">
        </div>
    </div>

    <div class="content-grid">
        <h3 class="section-title">Common Questions</h3>
        
        <div class="faq-grid">
            <div class="faq-item">
                <div class="faq-question">
                    How does CHEF-ROOTS recommend meals?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    CHEF-ROOTS uses a smart logic that cross-references your available ingredients, set budget, and any health conditions or dietary restrictions you've added to your profile to suggest the most relevant recipes.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    Can I filter recipes by health conditions?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Yes! You can set filters for conditions like Diabetes, Hypertension, or Celiac disease. We mark recipes with specific "Health Condition" pills to ensure they are safe for your needs.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    How do I save a recipe for later?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    On any recipe page, click the "Save Recipe" button with the heart icon. You can find all your saved recipes in your "My Kitchen" dashboard.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    Is the budget filter accurate?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Our budget estimates are based on average market prices in your region. You can adjust your preferred currency (e.g., FCFA) in your account settings.
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    Can I substitute ingredients if I'm missing something?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Yes! Inside each recipe, look for the "Smart Swap" icon. Our algorithm suggests alternatives (e.g., Greek yogurt instead of sour cream) based on flavor profile and nutritional value.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    How do I update my pantry inventory?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Go to the "My Kitchen" tab and select "Pantry." You can quickly toggle items you have in stock, and CHEF-ROOTS will automatically prioritize recipes using those ingredients.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    Is the nutritional information verified?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Our nutritional data is calculated based on standard food databases like the USDA and FAO. However, we always recommend consulting a doctor for strict medical management of conditions like Type 1 Diabetes.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    How do I exclude specific allergens (e.g., Peanuts)?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Navigate to "Profile Settings" > "Dietary Preferences." Check the "Allergies" boxes. These recipes will be completely hidden from your recommendations.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    Why are some prices shown in FCFA while others aren't?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    We prioritize local currency (FCFA) for ingredients commonly found in West/Central African markets. For imported goods, we use global averages converted to your local rate.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    Can I find recipes specifically for "Low Budget" days?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Absolutely. Use the "Budget Filter" on the Discovery page and set it to "Economic." This focuses on bulk staples like grains, tubers, and legumes.
                </div>
            </div>
        </div>
    </div>

    <div style="margin-top: 40px;">
        <h3 class="section-title"> Still need help?</h3>
        <div class="contact-row">
            <div class="contact-card" onclick="openHealthProfile()">
                <i class="fas fa-book"></i>
                <h4>Cookbooks</h4>
                <p>Browse our digital guides for healthy living and meal prep.</p>
            </div>
            
            <div class="contact-card">
                <a href="mailto:chefroots@gmail.com">
                    <i class="fas fa-paper-plane"></i>
                    <h4>Email Support</h4>
                    <p>Contact us, chefroots@gmail.com.</p>
               </a>
            </div>
           
            
        </div>
    </div>

</div>

<div id="profilePopup">
    <div class="card-rec">
        <span onclick="closeHealthProfile()" class="exit-btn">&times;</span>
      <div class="header-section">
        <h1>Public Health Guide</h1>
        <span class="source-str">EVIDENCE-BASED</span><span class="source-tag">WHO</span><span class="source-tag">FAO</span><span class="source-tag">HARVARD HEAILTH</span><span class="source-end">PUBLIC HEALTH</span>
      </div>

      <div class="recom-page">
        <h3>1. Healthy Eating as a Public Health Priority</h3>
        <p>Healthy eating is a major pillar of public health. Poor nutrition is one of the leading risk factors for non-communicable diseases such as diabetes, heart disease, stroke, obesity, and some cancers. Public health nutrition focuses on improving population-wide eating patterns to reduce disease burden, improve life expectancy, and enhance quality of life. Promoting healthy diets helps reduce healthcare costs and supports social and economic development.</p>
      </div>

      <div class="recom-page">
        <h3>2. Nutrition, Prevention, and Disease Control</h3>
        <p>Many diseases can be prevented through proper nutrition. Diets high in salt, sugar, and unhealthy fats increase the risk of hypertension, diabetes, and cardiovascular disease. Conversely, diets rich in fruits, vegetables, whole grains, and healthy fats strengthen immunity and lower disease risk. Public health strategies emphasize prevention rather than treatment.</p>
      </div>

      <div class="recom-page">
        <h3>3. Understanding Food Groups for Population Health</h3>
        <p>A healthy population diet includes diverse food groups: fruits, vegetables, whole grains, proteins, and healthy fats. Each group provides essential nutrients required for growth, energy, immunity, and development. Encouraging dietary diversity helps prevent malnutrition, micronutrient deficiencies, and chronic illness.</p>
      </div>

      <div class="recom-page">
        <h3>4. Carbohydrates and Energy Balance</h3>
        <p>Carbohydrates are essential for energy, especially for children, adolescents, and active individuals. Public health guidelines recommend prioritizing complex carbohydrates such as whole grains, roots, tubers, legumes, fruits, and vegetables. Excess intake of refined carbohydrates and sugary drinks contributes to obesity and type 2 diabetes.</p>
      </div>

      <div class="recom-page">
        <h3>5. Protein Intake and Community Nutrition</h3>
        <p>Proteins support growth, tissue repair, immune defense, and enzyme production. In public health, ensuring adequate protein intake is crucial to prevent stunting and muscle wasting. Affordable protein sources such as beans, lentils, eggs, fish, and nuts play a key role in community nutrition programs.</p>
      </div>

      <div class="recom-page">
        <h3>6. Fats, Heart Health, and Chronic Disease</h3>
        <p>Healthy fats are essential for brain development and hormone regulation. Public health recommendations encourage replacing saturated and trans fats with unsaturated fats found in fish, nuts, seeds, and vegetable oils. Reducing unhealthy fat intake lowers rates of heart disease and stroke at the population level.</p>
      </div>

      <div class="recom-page">
        <h3>7. Micronutrient Deficiencies and Public Health Impact</h3>
        <p>Deficiencies in iron, iodine, vitamin A, and zinc remain major public health concerns, especially in low- and middle-income countries. These deficiencies can cause anemia, impaired immunity, vision problems, and delayed development. Fortified foods and dietary diversification are effective public health interventions.</p>
      </div>

      <div class="recom-page">
        <h3>8. Fruits and Vegetables for Disease Prevention</h3>
        <p>Regular consumption of fruits and vegetables reduces the risk of chronic diseases and improves digestive health. Public health campaigns often promote a minimum daily intake to ensure adequate fiber, vitamins, and antioxidants. Increasing access and affordability is a key public health goal.</p>
      </div>

      <div class="recom-page">
        <h3>9. Salt Reduction and Blood Pressure Control</h3>
        <p>High salt intake is a major contributor to hypertension and cardiovascular disease. Public health authorities recommend limiting salt consumption by reducing processed foods and avoiding excessive seasoning. Community education and food labeling policies help reduce population salt intake.</p>
      </div>

      <div class="recom-page">
        <h3>10. Sugar Reduction and Metabolic Health</h3>
        <p>Excessive sugar intake, particularly from sugary beverages, is linked to obesity, diabetes, and dental problems. Public health strategies include promoting water consumption, limiting sweetened drinks, and educating communities on reading food labels.</p>
      </div>

      <div class="recom-page">
        <h3>11. Processed Foods and Health Risks</h3>
        <p>Highly processed foods are often energy-dense and nutrient-poor. Regular consumption increases the risk of obesity and metabolic disorders. Public health messaging encourages fresh, minimally processed foods prepared at home using local ingredients.</p>
      </div>

      <div class="recom-page">
        <h3>12. Food Safety, Hygiene, and Disease Prevention</h3>
        <p>Foodborne illnesses are a significant public health issue. Proper handwashing, clean water use, adequate cooking, and safe food storage prevent infections. Public education on food hygiene reduces outbreaks and protects vulnerable populations.</p>
      </div>

      <div class="recom-page">
        <h3>13. Nutrition Across the Life Course</h3>
        <p>Public health nutrition addresses the needs of all age groups. Children require nutrients for growth, adults need balanced diets for productivity, and older adults benefit from nutrient-dense foods to prevent chronic disease and frailty. Tailored nutrition policies improve outcomes at each life stage.</p>
      </div>

      <div class="recom-page">
        <h3>14. Maternal and Child Nutrition</h3>
        <p>Maternal nutrition affects pregnancy outcomes and child development. Adequate intake of iron, folate, calcium, and protein reduces maternal mortality and low birth weight. Breastfeeding promotion is a key public health strategy for infant health.</p>
      </div>

      <div class="recom-page">
        <h3>15. Adolescents, Schools, and Healthy Diets</h3>
        <p>Adolescence is a critical period for establishing lifelong habits. School feeding programs and nutrition education help prevent malnutrition and obesity. Healthy school environments support learning, concentration, and physical development.</p>
      </div>

      <div class="recom-page">
        <h3>16. Nutrition, Physical Activity, and Lifestyle</h3>
        <p>Healthy eating works best when combined with regular physical activity. Public health guidelines recommend daily movement alongside balanced diets to prevent obesity and improve mental health. Community spaces and active transport support healthier lifestyles.</p>
      </div>

      <div class="recom-page">
        <h3>17. Cultural, Local, and Sustainable Diets</h3>
        <p>Public health nutrition respects cultural food practices while promoting balance and moderation. Local and traditional foods often provide excellent nutrition when prepared healthily. Sustainable diets support environmental protection and long-term food security.</p>
      </div>

      <div class="recom-page">
        <h3>18. Addressing Malnutrition in All Its Forms</h3>
        <p>Malnutrition includes undernutrition, micronutrient deficiencies, overweight, and obesity. Public health interventions must address all forms simultaneously through education, food access, and policy regulation.</p>
      </div>

      <div class="recom-page">
        <h3>19. Community Education and Policy Interventions</h3>
        <p>Public health awareness relies on education campaigns, food labeling, taxation of unhealthy products, and support for local agriculture. Policies that promote healthy food environments lead to better population health outcomes.</p>
      </div>

      <div class="recom-page">
        <h3>20. Conclusion: Building Healthier Populations Through Nutrition</h3>
        <p>Healthy eating is a shared responsibility involving individuals, communities, governments, and health systems. Public health nutrition focuses on prevention, equity, and sustainability. By improving diets at the population level, societies can reduce disease, improve productivity, and enhance overall well-being.</p>
      </div>


      <button type="button" class="submit-btn return-btn" onclick="closeHealthProfile()">Return</button>
    </div>
  </div>
{% endblock %}

{% block extra_js %}
<script>
    function openHealthProfile() {
        document.getElementById('profilePopup').classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeHealthProfile() {
        document.getElementById('profilePopup').classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    document.addEventListener('DOMContentLoaded', function() {
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            item.querySelector('.faq-question').addEventListener('click', () => {
                item.classList.toggle('active');
            });
        });

        const searchInput = document.getElementById('faqSearch');
        if(searchInput) {
            searchInput.addEventListener('keyup', function() {
                const filter = this.value.toLowerCase();
                faqItems.forEach(item => {
                    const questionText = item.querySelector('.faq-question').textContent.toLowerCase();
                    
                    item.style.display = questionText.includes(filter) ? 'block' : 'none';
                });
            });
        }
    });
</script>
{% endblock %}